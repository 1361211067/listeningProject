import{_ as h}from"./ze-0b6399d4.js";import{d as u,r as g,c as i,a as s,F as f,t as k,o as a,v as m,p as v,l as S,k as w,_ as I}from"./index-f321bc63.js";const e=l=>(v("data-v-07162f7c"),l=l(),S(),l),y={id:"bookShelf"},L={class:"bookShelf"},b={class:"top"},N=e(()=>s("h2",null,"书架",-1)),B={class:"menu"},J=e(()=>s("span",{class:"img download"},null,-1)),O=e(()=>s("span",null,"下载",-1)),T=[J,O],x=e(()=>s("span",{class:"img collection"},null,-1)),C=e(()=>s("span",null,"收藏",-1)),D=[x,C],P=e(()=>s("div",{class:"btn"},[s("span",{class:"img buied"}),s("span",null,"已购")],-1)),$={class:"historyListenList"},F=e(()=>s("div",{class:"title"},[s("span",{class:"icon"}),s("span",{class:"text"},"收听历史")],-1)),q={key:0,class:"none"},E=e(()=>s("img",{src:h,alt:""},null,-1)),R=e(()=>s("span",{class:"noneText"},"您还没有收听记录",-1)),V=[E,R],z={key:1,class:"content-container"},A=["onClick"],G={class:"img-container"},H=["src"],K={class:"book-name"},M=u({__name:"BookShelf",setup(l){const d=w(),r=()=>{d.push("/downloadList")},_=g([]);(()=>{JSON.parse(window.localStorage.getItem("listenList"))&&(_.value=JSON.parse(window.localStorage.getItem("listenList")))})();const p=o=>{let t=JSON.parse(window.localStorage.getItem("listenList"));t?t.find(c=>c.bookTitle==o.bookTitle)?(t=t.filter(c=>c.bookTitle!=o.bookTitle),t.unshift(o),window.localStorage.setItem("listenList",JSON.stringify(t))):(t.unshift(o),window.localStorage.setItem("listenList",JSON.stringify(t))):window.localStorage.setItem("listenList",JSON.stringify([o])),d.push({name:"play",query:{bookId:o.bookId,chapterId:o.chapterId}})};return(o,t)=>(a(),i("div",y,[s("div",L,[s("div",b,[N,s("div",B,[s("div",{class:"btn",onClick:r},T),s("div",{class:"btn",onClick:t[0]||(t[0]=n=>o.$router.push("/shoucang"))},D),P])]),s("div",$,[F,_.value.length?(a(),i("div",z,[(a(!0),i(f,null,k(_.value,n=>(a(),i("div",{class:"item",key:n.bookId,onClick:c=>p(n)},[s("div",G,[s("img",{src:n.bookImage,alt:""},null,8,H)]),s("p",K,m(n.bookTitle),1)],8,A))),128))])):(a(),i("div",q,V))])])]))}});const X=I(M,[["__scopeId","data-v-07162f7c"]]);export{X as default};
