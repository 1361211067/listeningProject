import{d as c}from"./index-741193d7.js";import{r as k}from"./rankItem-5f89165a.js";import{T as h}from"./TypeBook-bc10ca3f.js";import{d as y,r as l,c as r,a as _,F as m,t as p,b,w,j as x,q as C,o,g as f,_ as I}from"./index-f321bc63.js";import{c as V,s as B}from"./function-call-5517af3d.js";const T={key:0,class:"container"},L={class:"RankList"},S=y({__name:"SuspenseView",setup(N){const i=l(!1),d=l(!1),a=l({rank:[],list:[]}),u=l(!0);c({categoryId:70,page:1}).then(s=>{var e,n;V(),a.value.rank=(e=s.data.data)==null?void 0:e.header,a.value.list=(n=s.data.data.list)==null?void 0:n.list,u.value=!1}),B({message:"加载中...",forbidClick:!0});const v=()=>{c({categoryId:70,page:2}).then(s=>{var e;a.value.list=[...a.value.list,...(e=s.data.data.list)==null?void 0:e.list],i.value=!1,a.value.list.length>=20&&(d.value=!0)})};return(s,e)=>{const n=C("van-list");return u.value?x("",!0):(o(),r("div",T,[_("div",L,[(o(!0),r(m,null,p(a.value.rank,(t,g)=>(o(),f(k,{item:t,index:g,key:t.bookId},null,8,["item","index"]))),128))]),_("div",null,[b(n,{loading:i.value,"onUpdate:loading":e[0]||(e[0]=t=>i.value=t),finished:d.value,"finished-text":"没有更多了",onLoad:v,"immediate-check":!1},{default:w(()=>[(o(!0),r(m,null,p(a.value.list,t=>(o(),f(h,{key:t.bookId,item:t},null,8,["item"]))),128))]),_:1},8,["loading","finished"])])]))}}});const R=I(S,[["__scopeId","data-v-5b6b0881"]]);export{R as default};
