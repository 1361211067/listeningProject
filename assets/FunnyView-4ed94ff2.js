import{b as r}from"./index-741193d7.js";import{S as _}from"./SwiperItem-466dd5a4.js";import{T as f}from"./TypeBook-bc10ca3f.js";import{d as v,r as o,c as u,b as c,w as g,j as h,q as y,o as n,F as k,t as w,g as x,_ as C}from"./index-f321bc63.js";import{c as b,s as F}from"./function-call-5517af3d.js";const I={key:0,class:"container"},V=v({__name:"FunnyView",setup(B){const l=o(!1),i=o(!1),a=o({loop:[],list:[]}),d=o(!0);r({tabId:2,page:1}).then(t=>{var e;b(),a.value.list=(e=t.data.data.list)==null?void 0:e.list,a.value.loop=t.data.data.loop,d.value=!1}),F({message:"加载中...",forbidClick:!0});const m=()=>{r({tabId:2,page:2}).then(t=>{var e;a.value.list=[...a.value.list,...(e=t.data.data.list)==null?void 0:e.list],l.value=!1,a.value.list.length>=20&&(i.value=!0)})};return(t,e)=>{const p=y("van-list");return d.value?h("",!0):(n(),u("div",I,[c(_,{item:a.value.loop},null,8,["item"]),c(p,{loading:l.value,"onUpdate:loading":e[0]||(e[0]=s=>l.value=s),finished:i.value,"finished-text":"没有更多了",onLoad:m,"immediate-check":!1},{default:g(()=>[(n(!0),u(k,null,w(a.value.list,s=>(n(),x(f,{key:s.bookId,item:s},null,8,["item"]))),128))]),_:1},8,["loading","finished"])]))}}});const q=C(V,[["__scopeId","data-v-fd421eaa"]]);export{q as default};
