import{_ as x}from"./ze-0b6399d4.js";import{d as V,r as f,D as B,c as s,b as c,F as L,t as k,o as n,w as p,g as h,j as J,q as l,p as O,l as q,a as g,_ as E}from"./index-f321bc63.js";const b=r=>(O("data-v-c46f742d"),r=r(),q(),r),F={key:0,class:"none"},T=b(()=>g("img",{src:x,alt:""},null,-1)),j=b(()=>g("span",{class:"noneText"},"您还没有下载任何音频",-1)),D=[T,j],H={key:1,class:"downLoadList"},M=V({__name:"downloadList",setup(r){const a=f([]),i=f("1"),y=()=>history.back(),I=(e,d)=>{console.log(e.downLoadArr.length),a.value.forEach(t=>{t.bookId==d.bookId&&(t.downLoadArr=t.downLoadArr.filter(u=>u.chapterId!=d.chapterId))}),e.downLoadArr==0&&(a.value=a.value.filter(t=>t.bookId!=e.bookId)),window.localStorage.setItem("downLoadList",JSON.stringify(a.value))};return B(()=>{let e=JSON.parse(window.localStorage.getItem("downLoadList"));JSON.stringify(e)!="[]"&&e&&(a.value=e,console.log(a.value))}),(e,d)=>{const t=l("van-nav-bar"),u=l("van-card"),m=l("van-cell"),N=l("van-button"),A=l("van-swipe-cell"),S=l("van-collapse-item"),C=l("van-collapse");return n(),s("div",null,[c(t,{title:"下载列表","left-arrow":"",onClickLeft:y}),a.value.length?(n(),s("div",H,[(n(!0),s(L,null,k(a.value,(o,w)=>(n(),s("span",{key:w},[c(C,{modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=_=>i.value=_),accordion:""},{default:p(()=>[o.downLoadArr.length!=0?(n(),h(S,{key:0,title:o==null?void 0:o.bookName,name:w},{default:p(()=>{var _;return[c(u,{desc:(_=o==null?void 0:o.downLoadArr[0])==null?void 0:_.bookHost,title:o==null?void 0:o.bookName,class:"goods-card",thumb:o==null?void 0:o.bookImg},null,8,["desc","title","thumb"]),(n(!0),s(L,null,k(o.downLoadArr,v=>(n(),h(A,{key:v.chapterId},{right:p(()=>[c(N,{square:"",type:"danger",text:"删除",onClick:U=>I(o,v)},null,8,["onClick"])]),default:p(()=>[c(m,{border:!1,title:v.chapterTitle.replace(".mp3","")},null,8,["title"])]),_:2},1024))),128))]}),_:2},1032,["title","name"])):J("",!0)]),_:2},1032,["modelValue"])]))),128))])):(n(),s("div",F,D))])}}});const G=E(M,[["__scopeId","data-v-c46f742d"]]);export{G as default};
