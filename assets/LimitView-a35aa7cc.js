import{b as r}from"./index-741193d7.js";import{S as _}from"./SwiperItem-466dd5a4.js";import{T as f}from"./TypeBook-bc10ca3f.js";import{c as v,s as g}from"./function-call-5517af3d.js";import{d as h,r as o,c as m,b as u,w as k,j as w,q as x,o as l,F as y,t as C,g as L,_ as b}from"./index-f321bc63.js";const I={key:0,class:"container"},V=h({__name:"LimitView",setup(B){const i=o(!1),n=o(!1),t=o({loop:[],list:[]}),d=o(!0);r({tabId:14,page:1}).then(a=>{var e;t.value.list=(e=a.data.data.list)==null?void 0:e.list,t.value.loop=a.data.data.loop,d.value=!1,v()}),g({message:"加载中...",forbidClick:!0});const c=()=>{r({tabId:14,page:2}).then(a=>{var e;t.value.list=[...t.value.list,...(e=a.data.data.list)==null?void 0:e.list],i.value=!1,t.value.list.length>=20&&(n.value=!0)})};return(a,e)=>{const p=x("van-list");return d.value?w("",!0):(l(),m("div",I,[u(_,{item:t.value.loop},null,8,["item"]),u(p,{loading:i.value,"onUpdate:loading":e[0]||(e[0]=s=>i.value=s),finished:n.value,"finished-text":"没有更多了",onLoad:c,"immediate-check":!1},{default:k(()=>[(l(!0),m(y,null,C(t.value.list,s=>(l(),L(f,{key:s.bookId,item:s},null,8,["item"]))),128))]),_:1},8,["loading","finished"])]))}}});const q=b(V,[["__scopeId","data-v-95094e09"]]);export{q as default};
