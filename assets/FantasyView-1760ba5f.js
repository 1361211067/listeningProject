import{d as u}from"./index-741193d7.js";import{r as k}from"./rankItem-5f89165a.js";import{T as h}from"./TypeBook-bc10ca3f.js";import{d as y,r as l,c as d,a as _,F as m,t as f,b as w,w as x,j as C,q as I,o,g as v,_ as V}from"./index-f321bc63.js";import{c as B,s as F}from"./function-call-5517af3d.js";const T={key:0,class:"container"},L={class:"RankList"},b={class:"list"},N=y({__name:"FantasyView",setup(j){const i=l(!1),r=l(!1),a=l({rank:[],list:[]}),c=l(!0);u({categoryId:75,page:1}).then(s=>{var e,n;B(),a.value.rank=(e=s.data.data)==null?void 0:e.header,a.value.list=(n=s.data.data.list)==null?void 0:n.list,c.value=!1}),F({message:"加载中...",forbidClick:!0});const p=()=>{u({categoryId:75,page:2}).then(s=>{var e;a.value.list=[...a.value.list,...(e=s.data.data.list)==null?void 0:e.list],i.value=!1,a.value.list.length>=20&&(r.value=!0)})};return(s,e)=>{const n=I("van-list");return c.value?C("",!0):(o(),d("div",T,[_("div",L,[(o(!0),d(m,null,f(a.value.rank,(t,g)=>(o(),v(k,{item:t,index:g,key:t.bookId},null,8,["item","index"]))),128))]),_("div",b,[w(n,{loading:i.value,"onUpdate:loading":e[0]||(e[0]=t=>i.value=t),finished:r.value,"finished-text":"没有更多了",onLoad:p,"immediate-check":!1},{default:x(()=>[(o(!0),d(m,null,f(a.value.list,t=>(o(),v(h,{key:t.bookId,item:t},null,8,["item"]))),128))]),_:1},8,["loading","finished"])])]))}}});const U=V(N,[["__scopeId","data-v-aa87d6ed"]]);export{U as default};
