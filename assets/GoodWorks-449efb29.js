import{b as r}from"./index-741193d7.js";import{S as _}from"./SwiperItem-466dd5a4.js";import{T as f}from"./TypeBook-bc10ca3f.js";import{d as v,r as s,c as u,b as c,w as g,j as h,q as k,o as i,F as b,t as x,g as y,_ as C}from"./index-f321bc63.js";import{c as w,s as I}from"./function-call-5517af3d.js";const B={key:0,class:"container"},T=v({__name:"GoodWorks",setup(G){const l=s(!1),n=s(!1),t=s({loop:[],list:[]}),d=s(!0);r({tabId:15,page:1}).then(a=>{var e;t.value.list=(e=a.data.data.list)==null?void 0:e.list,t.value.loop=a.data.data.loop,d.value=!1,w()}),I({message:"加载中...",forbidClick:!0});const m=()=>{r({tabId:15,page:2}).then(a=>{var e;t.value.list=[...t.value.list,...(e=a.data.data.list)==null?void 0:e.list],l.value=!1,t.value.list.length>=20&&(n.value=!0)})};return(a,e)=>{const p=k("van-list");return d.value?h("",!0):(i(),u("div",B,[c(_,{item:t.value.loop},null,8,["item"]),c(p,{loading:l.value,"onUpdate:loading":e[0]||(e[0]=o=>l.value=o),finished:n.value,"finished-text":"没有更多了",onLoad:m,"immediate-check":!1},{default:g(()=>[(i(!0),u(b,null,x(t.value.list,o=>(i(),y(f,{key:o.bookId,item:o},null,8,["item"]))),128))]),_:1},8,["loading","finished"])]))}}});const V=C(T,[["__scopeId","data-v-052ddb07"]]);export{V as default};
