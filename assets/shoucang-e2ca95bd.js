import{d as x,r as C,C as S,c as _,a as t,b as s,F as N,t as B,o as i,w as r,y as T,v as V,x as $,f as z,k as D,q as n,p as F,l as J,_ as L}from"./index-f321bc63.js";import{_ as O}from"./ze-0b6399d4.js";const R=c=>(F("data-v-532522c2"),c=c(),J(),c),q={class:"con"},E={class:"top"},M={class:"common-layout"},j={style:{margin:"10rem","white-space":"nowrap"}},A={style:{"font-size":"14rem","text-overflow":"ellipsis",width:"160rem",overflow:"hidden"}},G=["onClick"],H={key:1},K=R(()=>t("div",{class:"none"},[t("img",{src:O,alt:""}),t("span",{class:"noneText"},"您还没有收藏记录")],-1)),P=[K],Q=x({__name:"shoucang",setup(c){z();const d=D(),u=()=>{if(console.log(666),window.history.length<=1)return d.push({path:"/"}),!1;d.go(-1)},e=C([]);S(()=>{e.value=JSON.parse(localStorage.getItem("collect1")||"[]").filter((a,o)=>o%2!=0)}),console.log(e.value);const m=a=>{console.log(a.bookId),e.value=e.value.filter(o=>o!=a.bookId),e.value=e.value.filter(o=>(o==null?void 0:o.bookId)!=a.bookId),localStorage.setItem("collect1",JSON.stringify([...e.value]))};return(a,o)=>{var p;const v=n("van-nav-bar"),h=n("van-loading"),f=n("van-image"),g=n("el-aside"),k=n("van-icon"),w=n("el-main"),y=n("el-container");return i(),_("div",q,[t("div",E,[s(v,{title:"我的收藏","left-text":" ","left-arrow":"",onClickLeft:u})]),(p=e.value)!=null&&p.length?(i(!0),_(N,{key:0},B(e.value,(l,b)=>(i(),_("div",{class:"card",key:b},[t("div",M,[s(y,null,{default:r(()=>[s(g,{width:"230rem",onClick:T(I=>a.$router.push({name:"bookDetail",params:{bookId:l.bookId}}),["stop"])},{default:r(()=>[s(f,{round:"",width:"50rem",height:"50rem",src:l.bookImage,fit:"cover"},{loading:r(()=>[s(h,{type:"spinner",size:"20"})]),_:2},1032,["src"]),t("div",j,[t("p",A,V(l.bookTitle),1)])]),_:2},1032,["onClick"]),s(w,null,{default:r(()=>[t("button",{class:"nofocus",onClick:I=>m(l)},[s(k,{name:"like-o"}),$(" 取消收藏 ")],8,G)]),_:2},1024)]),_:2},1024)])]))),128)):(i(),_("div",H,P))])}}});const X=L(Q,[["__scopeId","data-v-532522c2"]]);export{X as default};
